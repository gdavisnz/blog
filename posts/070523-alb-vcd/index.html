<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LBaaS with NSX Advanced Load Balancer and Cloud Director | Grant Davis</title><meta name=keywords content="vmware,AVI,NSX,VCD"><meta name=description content="NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides  load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security."><meta name=author content="Grant Davis"><link rel=canonical href=https://gdavisnz.github.io/blog/posts/070523-alb-vcd/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/blog/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="LBaaS with NSX Advanced Load Balancer and Cloud Director"><meta property="og:description" content="NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides  load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security."><meta property="og:type" content="article"><meta property="og:url" content="https://gdavisnz.github.io/blog/posts/070523-alb-vcd/"><meta property="og:image" content="https://gdavisnz.github.io/blog/nsx-vcd-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-07T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-07T00:00:00+00:00"><meta property="og:site_name" content="Grant Davis"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gdavisnz.github.io/blog/nsx-vcd-cover.png"><meta name=twitter:title content="LBaaS with NSX Advanced Load Balancer and Cloud Director"><meta name=twitter:description content="NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides  load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gdavisnz.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"LBaaS with NSX Advanced Load Balancer and Cloud Director","item":"https://gdavisnz.github.io/blog/posts/070523-alb-vcd/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LBaaS with NSX Advanced Load Balancer and Cloud Director","name":"LBaaS with NSX Advanced Load Balancer and Cloud Director","description":"NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides  load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security.","keywords":["vmware","AVI","NSX","VCD"],"articleBody":" Introduction NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security.\nOverall, NSX ALB provides a powerful set of tools for managing application traffic, ensuring high availability and performance.\nThe integration with VCD allows NSX ALB to automate load balancer deployment and configuration for tenant applications. NSX ALB can be deployed as a service offering within VCD, and tenants can easily select and configure load balancing services for their VMs through the VCD self-service portal.\nShared and Dedicated Models NSX ALB provides multi-tenancy support in VCD, this can be achieved with a Shared or Dedicated Model.\nIn the shared model, multiple tenants or customers share the same set of load balancing resources. This deployment model is suitable for service providers who want to offer load balancing as a service to multiple customers while minimizing the infrastructure (Service Engine Group) requirements.\nIn the dedicated model, tenants have their own set of load balancing resources (Service Engine Groups) that are dedicated to their tenancy. This deployment model is suitable for organizations with high traffic volumes and for Service Providers that want to segregate their tenants as much as possible.\nMy Deployment:\nComponent Version vCenter Server 8.0.1 (21560480) NSX Advanced Load Balancer Controller 22.1.3 NSX 4.1 Cloud Director 10.4.2 Deployment Process Pre Deployment A few requirements which I wont be covering today are a vCenter, NSX and Cloud Director instance in working order and integrated in VCD. VCD also needs a Org with an orgVDC that has a Edge Gateway attached.\nDeployment preparation:\nOVA Deployment and Config Deploying the OVA was straight forward, you need to see a management IP Address for your controller, this is different to the alb-se-mgmt IP created earlier, the controller should be on a management network similar to your NSX Manager and vCenter server. Once the OVA is deployed you set up an admin account and run through an initial deployment wizard.\nCreate NSX-T Cloud Once logged in, create the NSX-T Cloud in ALB. Navigate to Infrastructure » Clouds » Create » NSX-T Cloud and enter all required fields.\nIn this deployment DNS Resolvers and IPAM was ignored, DHCP was also ticked since its enable on the alb-se-mgmt network. in Data Network the NSX overlay transport zone needs to be defined along with the alb T1 router and mgmt segment.\nVCD Configuration ALB Config is done by navigating to Resources » Infrastructure Resources » NSX-ALB in the VCD Provider Portal\nAdd NSX Advanced Load Balancer Controller Add the NSX ALB Controller under Resources » Infrastructure Resources » NSX-ALB » Controllers\nAdd NSX-Cloud, this should just be a drop down option as its querying the ALB Controller itself\nAdd NSX Cloud Service Engine Groups Create a new SEG in NSX ALB and add it here, this section you can control whether this SEG is Shared or Dedicated to a Tenant, the HA Mode of the Service Engine Group, and the feature set of the SEG itself.\nInformation about NSX ALB HA Modes https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/21.1.4/Installation_Guide/GUID-7E4C010C-875A-421D-938D-97E262913291.html\nInformation on Standard and Premium ALB features https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/20.1.4/Administration_Guide/GUID-B5EC8F3B-A75E-4809-A653-6EBE08CFED81.html\nTenant Configuration This tenant named Blue already has an Edge Gateway Deployed. The Tenant has an IP Space configured with both available IP Prefixes and Floating IPs as well. The Load Balancer functionality properties are located on the Edge itself\nEnable Load Balancer on the Edge Gateway Enable the Load Balancer here, this will then present other configuration options to the Provider, In NSX a Segment will be created and linked to this Edge Gateway, a Service Engine will also be deployed with an interface on this segment, this is the NSX ALB Data Network.\nAllocate Service Engine Groups Allocate a Service Engine Group to this Edge Gateway, the SEGs were created within the NSX ALB interface and then added into VCD.\nCreate Virtual Service From here on you are preparing an application to consume Load Balancer services, below is an example created in this VCD tenant.\nA Virtual Service Defines the following\nOnce this is created, in NSX a static route is created for the VIP to traverse via the Data Network in NSX ALB\nCreate Pool Create a Pool and add your application members\nTesting In my tenancy I created 2 X Photon OS machines with NGINX Docker containers. I added these servers to my Pool and was able to access the NGINX page from the Virtual IP set inside the NSX Advanced Load Balancer.\nThank you for reading :)\n","wordCount":"768","inLanguage":"en","image":"https://gdavisnz.github.io/blog/nsx-vcd-cover.png","datePublished":"2023-05-07T00:00:00Z","dateModified":"2023-05-07T00:00:00Z","author":{"@type":"Person","name":"Grant Davis"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gdavisnz.github.io/blog/posts/070523-alb-vcd/"},"publisher":{"@type":"Organization","name":"Grant Davis","logo":{"@type":"ImageObject","url":"https://gdavisnz.github.io/blog/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://gdavisnz.github.io/blog/ accesskey=h title="Grant Davis (Alt + H)"><img src=https://gdavisnz.github.io/apple-touch-icon.png alt aria-label=logo height=35>Grant Davis</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://gdavisnz.github.io/blog/about/ title=about><span>about</span></a></li><li><a href=https://gdavisnz.github.io/blog/posts/ title=posts><span>posts</span></a></li><li><a href=https://gdavisnz.github.io/blog/tags/ title=tags><span>tags</span></a></li><li><a href=https://example.org title=example.org><span>example.org</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gdavisnz.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://gdavisnz.github.io/blog/posts/>Posts</a></div><h1 class=post-title>LBaaS with NSX Advanced Load Balancer and Cloud Director</h1><div class=post-meta><span title='2023-05-07 00:00:00 +0000 UTC'>May 7, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;768 words&nbsp;·&nbsp;Grant Davis</div></header><figure class=entry-cover><img loading=lazy srcset="https://gdavisnz.github.io/blog/posts/070523-alb-vcd/nsx-vcd-cover_huc96b14c376dc2c1c3f1424d3506ff1c8_28306_360x0_resize_box_3.png 360w ,https://gdavisnz.github.io/blog/posts/070523-alb-vcd/nsx-vcd-cover_huc96b14c376dc2c1c3f1424d3506ff1c8_28306_480x0_resize_box_3.png 480w ,https://gdavisnz.github.io/blog/posts/070523-alb-vcd/nsx-vcd-cover.png 500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gdavisnz.github.io/blog/posts/070523-alb-vcd/nsx-vcd-cover.png alt="LBaaS with NSX Advanced Load Balancer and Cloud Director" width=500 height=189></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#shared-and-dedicated-models>Shared and Dedicated Models</a></li></ul></li><li><a href=#deployment-process>Deployment Process</a><ul><li><a href=#pre-deployment>Pre Deployment</a></li><li><a href=#ova-deployment-and-config>OVA Deployment and Config</a></li></ul></li><li><a href=#create-nsx-t-cloud>Create NSX-T Cloud</a></li><li><a href=#vcd-configuration>VCD Configuration</a><ul><li><a href=#add-nsx-advanced-load-balancer-controller>Add NSX Advanced Load Balancer Controller</a></li><li><a href=#add-nsx-cloud>Add NSX Cloud</a></li><li><a href=#service-engine-groups>Service Engine Groups</a></li></ul></li><li><a href=#tenant-configuration>Tenant Configuration</a><ul><li><a href=#enable-load-balancer-on-the-edge-gateway>Enable Load Balancer on the Edge Gateway</a></li><li><a href=#allocate-service-engine-groups>Allocate Service Engine Groups</a></li><li><a href=#create-virtual-service>Create Virtual Service</a></li><li><a href=#create-pool>Create Pool</a></li></ul></li><li><a href=#testing>Testing</a></li></ul></nav></div></details></div><div class=post-content><p><img loading=lazy src=diagram.png alt></p><hr><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><hr><p>NSX Advanced Load Balancer (ALB) is a software-based application delivery controller that provides load balancing capabilities for applications deployed in data centers and public clouds. It offers a variety of features such as load balancing, SSL/TLS offloading, content switching, application acceleration, and advanced security.</p><p>Overall, NSX ALB provides a powerful set of tools for managing application traffic, ensuring high availability and performance.</p><p>The integration with VCD allows NSX ALB to automate load balancer deployment and configuration for tenant applications. NSX ALB can be deployed as a service offering within VCD, and tenants can easily select and configure load balancing services for their VMs through the VCD self-service portal.</p><h3 id=shared-and-dedicated-models>Shared and Dedicated Models<a hidden class=anchor aria-hidden=true href=#shared-and-dedicated-models>#</a></h3><p>NSX ALB provides multi-tenancy support in VCD, this can be achieved with a Shared or Dedicated Model.</p><p>In the <strong>shared model</strong>, multiple tenants or customers share the same set of load balancing resources. This deployment model is suitable for service providers who want to offer load balancing as a service to multiple customers while minimizing the infrastructure (Service Engine Group) requirements.</p><p>In the <strong>dedicated model</strong>, tenants have their own set of load balancing resources (Service Engine Groups) that are dedicated to their tenancy. This deployment model is suitable for organizations with high traffic volumes and for Service Providers that want to segregate their tenants as much as possible.</p><p><strong>My Deployment:</strong></p><table><thead><tr><th style=text-align:center>Component</th><th style=text-align:center>Version</th></tr></thead><tbody><tr><td style=text-align:center>vCenter Server</td><td style=text-align:center>8.0.1 (21560480)</td></tr><tr><td style=text-align:center>NSX Advanced Load Balancer Controller</td><td style=text-align:center>22.1.3</td></tr><tr><td style=text-align:center>NSX</td><td style=text-align:center>4.1</td></tr><tr><td style=text-align:center>Cloud Director</td><td style=text-align:center>10.4.2</td></tr></tbody></table><hr><h2 id=deployment-process>Deployment Process<a hidden class=anchor aria-hidden=true href=#deployment-process>#</a></h2><hr><h3 id=pre-deployment>Pre Deployment<a hidden class=anchor aria-hidden=true href=#pre-deployment>#</a></h3><p>A few requirements which I wont be covering today are a vCenter, NSX and Cloud Director instance in working order and integrated in VCD. VCD also needs a Org with an orgVDC that has a Edge Gateway attached.</p><p>Deployment preparation:</p><p><img loading=lazy src=1-nsx.png alt="Figure 1: T1 + T0"></p><p><img loading=lazy src=2-rrd.png alt="Figure 2: BGP Route Advertisement"></p><p><img loading=lazy src=3-alb-mgmt.png alt="Figure 3: alb-se-mgmt segment"></p><h3 id=ova-deployment-and-config>OVA Deployment and Config<a hidden class=anchor aria-hidden=true href=#ova-deployment-and-config>#</a></h3><p>Deploying the OVA was straight forward, you need to see a management IP Address for your controller, this is different to the alb-se-mgmt IP created earlier, the controller should be on a management network similar to your NSX Manager and vCenter server. Once the OVA is deployed you set up an admin account and run through an initial deployment wizard.</p><p><img loading=lazy src=4-setadmin.png alt="Figure 4: create admin password"></p><p><img loading=lazy src=5-system.png alt="Figure 5: configure ALB"></p><hr><h2 id=create-nsx-t-cloud>Create NSX-T Cloud<a hidden class=anchor aria-hidden=true href=#create-nsx-t-cloud>#</a></h2><hr><p>Once logged in, create the NSX-T Cloud in ALB. Navigate to Infrastructure &#187; Clouds &#187; Create &#187; NSX-T Cloud and enter all required fields.</p><p>In this deployment DNS Resolvers and IPAM was ignored, DHCP was also ticked since its enable on the alb-se-mgmt network. in Data Network the NSX overlay transport zone needs to be defined along with the alb T1 router and mgmt segment.</p><p><img loading=lazy src=6-nsxcloud1.png alt="Figure 6: NSX Cloud Creation"></p><p><img loading=lazy src=7-nsxcloud2.png alt="Figure 7: NSX Cloud Creation"></p><hr><h2 id=vcd-configuration>VCD Configuration<a hidden class=anchor aria-hidden=true href=#vcd-configuration>#</a></h2><hr><p>ALB Config is done by navigating to Resources &#187; Infrastructure Resources &#187; NSX-ALB in the VCD Provider Portal</p><h3 id=add-nsx-advanced-load-balancer-controller>Add NSX Advanced Load Balancer Controller<a hidden class=anchor aria-hidden=true href=#add-nsx-advanced-load-balancer-controller>#</a></h3><p>Add the NSX ALB Controller under Resources &#187; Infrastructure Resources &#187; NSX-ALB &#187; Controllers</p><p><img loading=lazy src=8-addcontroller.PNG alt="Figure 8: Add ALB Controller"></p><p>Add NSX-Cloud, this should just be a drop down option as its querying the ALB Controller itself</p><h3 id=add-nsx-cloud>Add NSX Cloud<a hidden class=anchor aria-hidden=true href=#add-nsx-cloud>#</a></h3><p><img loading=lazy src=9-nsxcloud.PNG alt="Figure 9: Add NSX Cloud"></p><h3 id=service-engine-groups>Service Engine Groups<a hidden class=anchor aria-hidden=true href=#service-engine-groups>#</a></h3><p>Create a new SEG in NSX ALB and add it here, this section you can control whether this SEG is Shared or Dedicated to a Tenant, the HA Mode of the Service Engine Group, and the feature set of the SEG itself.</p><p>Information about NSX ALB HA Modes
<a href=https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/21.1.4/Installation_Guide/GUID-7E4C010C-875A-421D-938D-97E262913291.html>https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/21.1.4/Installation_Guide/GUID-7E4C010C-875A-421D-938D-97E262913291.html</a></p><p>Information on Standard and Premium ALB features
<a href=https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/20.1.4/Administration_Guide/GUID-B5EC8F3B-A75E-4809-A653-6EBE08CFED81.html>https://docs.vmware.com/en/VMware-NSX-Advanced-Load-Balancer/20.1.4/Administration_Guide/GUID-B5EC8F3B-A75E-4809-A653-6EBE08CFED81.html</a></p><p><img loading=lazy src=10-SEG.PNG alt="Figure 10: Create Service Engine Groups"></p><hr><h2 id=tenant-configuration>Tenant Configuration<a hidden class=anchor aria-hidden=true href=#tenant-configuration>#</a></h2><hr><p>This tenant named Blue already has an Edge Gateway Deployed. The Tenant has an IP Space configured with both available IP Prefixes and Floating IPs as well. The Load Balancer functionality properties are located on the Edge itself</p><h3 id=enable-load-balancer-on-the-edge-gateway>Enable Load Balancer on the Edge Gateway<a hidden class=anchor aria-hidden=true href=#enable-load-balancer-on-the-edge-gateway>#</a></h3><p>Enable the Load Balancer here, this will then present other configuration options to the Provider, In NSX a Segment will be created and linked to this Edge Gateway, a Service Engine will also be deployed with an interface on this segment, this is the NSX ALB Data Network.</p><p><img loading=lazy src=11-enable-lb.PNG alt="Figure 11: Enable Load Balancer on the Edge Gateway"></p><h3 id=allocate-service-engine-groups>Allocate Service Engine Groups<a hidden class=anchor aria-hidden=true href=#allocate-service-engine-groups>#</a></h3><p>Allocate a Service Engine Group to this Edge Gateway, the SEGs were created within the NSX ALB interface and then added into VCD.</p><p><img loading=lazy src=12-seg.PNG alt="Figure 12: Allocate Service Engine Groups"></p><h3 id=create-virtual-service>Create Virtual Service<a hidden class=anchor aria-hidden=true href=#create-virtual-service>#</a></h3><p>From here on you are preparing an application to consume Load Balancer services, below is an example created in this VCD tenant.</p><p>A Virtual Service Defines the following</p><p>Once this is created, in NSX a static route is created for the VIP to traverse via the Data Network in NSX ALB</p><p><img loading=lazy src=13-vs.png alt="Figure 13: Create Virtual Service"></p><h3 id=create-pool>Create Pool<a hidden class=anchor aria-hidden=true href=#create-pool>#</a></h3><p>Create a Pool and add your application members</p><p><img loading=lazy src=14-pool.png alt="Figure 14: Create Pool"></p><hr><h2 id=testing>Testing<a hidden class=anchor aria-hidden=true href=#testing>#</a></h2><hr><p>In my tenancy I created 2 X Photon OS machines with NGINX Docker containers. I added these servers to my Pool and was able to access the NGINX page from the Virtual IP set inside the NSX Advanced Load Balancer.</p><p><img loading=lazy src=15-final.png alt="Figure 15: Testing!"></p><p>Thank you for reading :)</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://gdavisnz.github.io/blog/tags/vmware/>vmware</a></li><li><a href=https://gdavisnz.github.io/blog/tags/avi/>AVI</a></li><li><a href=https://gdavisnz.github.io/blog/tags/nsx/>NSX</a></li><li><a href=https://gdavisnz.github.io/blog/tags/vcd/>VCD</a></li></ul><nav class=paginav><a class=prev href=https://gdavisnz.github.io/blog/posts/saa-c03/><span class=title>« Prev</span><br><span>My Journey towards the SAA-C03 AWS Solutions Architect Associate Certification</span></a>
<a class=next href=https://gdavisnz.github.io/blog/posts/040523-nsx-in-vcd/><span class=title>Next »</span><br><span>Adding NSX Networking to a VCD Tenancy using IP Spaces</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://gdavisnz.github.io/blog/>Grant Davis</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>