<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Centralized Point of Management (CPoM) in Cloud Director 10.4.1 | Grant Davis</title><meta name=keywords content="vmware,vcd,CPoM"><meta name=description content="Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that enables providers to present dedicated vCenter instances to their customers."><meta name=author content="Grant Davis"><link rel=canonical href=https://blog.grantdavis.me/posts/260323-vcd-cpom/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Centralized Point of Management (CPoM) in Cloud Director 10.4.1"><meta property="og:description" content="Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that enables providers to present dedicated vCenter instances to their customers."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.grantdavis.me/posts/260323-vcd-cpom/"><meta property="og:image" content="https://blog.grantdavis.me/cover-vcd.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-25T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-25T00:00:00+00:00"><meta property="og:site_name" content="Grant Davis"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.grantdavis.me/cover-vcd.png"><meta name=twitter:title content="Centralized Point of Management (CPoM) in Cloud Director 10.4.1"><meta name=twitter:description content="Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that enables providers to present dedicated vCenter instances to their customers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.grantdavis.me/posts/"},{"@type":"ListItem","position":2,"name":"Centralized Point of Management (CPoM) in Cloud Director 10.4.1","item":"https://blog.grantdavis.me/posts/260323-vcd-cpom/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Centralized Point of Management (CPoM) in Cloud Director 10.4.1","name":"Centralized Point of Management (CPoM) in Cloud Director 10.4.1","description":"Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that enables providers to present dedicated vCenter instances to their customers.","keywords":["vmware","vcd","CPoM"],"articleBody":" Introduction Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that empowers providers to provide customers dedicated vCenter instances. Cloud Director can also act as a proxy which allows providers to simplify tasks such as setting up VPNs and navigating complex NAT configurations. Cloud Director can also act as an API endpoint for all your vcenters, which could simplify automation.\nThis blog article will run through the installation and configuration of CPoM\nThis steps we are going to take here are:\nEnabling the CPoM Feature CPoM can be enabled in the Provider Portal under More » Customize Portal, select ‘CPOM extension’ and click Enable\nThe CPoM feature will also need to be publised to tenants, while the CPOM extension is still selected click Publish and choose your tenants\nAdd Dedicated vCenter as Cloud Resource Next is to add the vCenter server as a Cloud Resource. Click on Resources » vCenter Server Instances » Infrastructure Resources » ADD. vCenter Server The Add vCenter Wizard opens and you will be prompted for the following:\nThe below screen shot uses the administrator@ vsphere.local username to authenticate with the vCenter Server, I couldnt find any offical documentation on this but I tested an account with a Read Only Global Permission role and that also worked fine.\nOnce you filled that out Click Next. Youll get a prompt to retreive and trust the vCenter certificate\nNSX-V Manager I am going to disable NSX-V Manager by clicking on the Configure Settings slider. NSX-V is being replaced by NSX-T.\nClick Next\nAccess Configuration Now this is where you actually define this as a dedicated vCenter rather than a shared vCenter resource for orgVDCs. This is done by selecting Enable Tenant Access. We are also going to enable Generate Proxies so we can walk through that as well.\nClick Next\nReady to Complete Ready to complete is an overview on what we have done so far, review your settings and then click Finish\nI did get prompted to trust the vCenter certificate again. You should see the new vCenter now. In the screen shot below I have 2 vCenters with different usage fields, vcsa01 has a usage class of IaaS this is for my tradational orgVDC backed shared compute environment and the vCenter vcsa02 has a usage class of SDDC (Software Defined Data Center)\nPublish to Tenant Now to publish this Dedicated Resource to a Tenant, select the SDDC vCenter and click Manage Tenants\nSelect your Tenant and click Save\nProxy Configuration When we added the vCenter server, we enabled the Generate Proxies setting which created a proxy for us. This can be view by clicking on the vCenter server and then Proxies on the sidebar. Here you can also generate new proxies for NSX Managers, ESXi Hosts UI and SSO is there in case there is an external PSC.\nExtra Configuration For Tenants to see this new dedicated vSphere instance you’ll need to confirm the following, the first 2 have already been done in this exercise.\nTenant Portal Lets log into the Tenant Portal, browse to Data Centers » Dedicated vSphere Data Centers.\nAnd you should see the new SDDC ready to go!\nTenant Portal Proxy Configuration You may need to action a few steps to configure the proxy capabilities, either by downloading a chrome extension or updating your Windows OS Internet LAN Settings with a automatic configuration script. When you click Actions under your SDDC Instance and click Username and Password you will get the Proxy credentials needed.\nConclusion And there you have it! Customers can have all their dedicated resources in the one UI with a quick glance of capacity requirements and total number of VMs.\n","wordCount":"613","inLanguage":"en","image":"https://blog.grantdavis.me/cover-vcd.png","datePublished":"2023-03-25T00:00:00Z","dateModified":"2023-03-25T00:00:00Z","author":{"@type":"Person","name":"Grant Davis"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.grantdavis.me/posts/260323-vcd-cpom/"},"publisher":{"@type":"Organization","name":"Grant Davis","logo":{"@type":"ImageObject","url":"https://blog.grantdavis.me/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://blog.grantdavis.me/ accesskey=h title="Grant Davis (Alt + H)"><img src=https://blog.grantdavis.me/apple-touch-icon.png alt aria-label=logo height=35>Grant Davis</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://blog.grantdavis.me/about/ title=about><span>about</span></a></li><li><a href=https://blog.grantdavis.me/posts/ title=posts><span>posts</span></a></li><li><a href=https://blog.grantdavis.me/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.grantdavis.me/>Home</a>&nbsp;»&nbsp;<a href=https://blog.grantdavis.me/posts/>Posts</a></div><h1 class=post-title>Centralized Point of Management (CPoM) in Cloud Director 10.4.1</h1><div class=post-meta><span title='2023-03-25 00:00:00 +0000 UTC'>March 25, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;613 words&nbsp;·&nbsp;Grant Davis</div></header><figure class=entry-cover><img loading=lazy srcset="https://blog.grantdavis.me/posts/260323-vcd-cpom/cover-vcd_hu534ed1b5cd782659f8b34d2418980910_10127_360x0_resize_box_3.png 360w ,https://blog.grantdavis.me/posts/260323-vcd-cpom/cover-vcd_hu534ed1b5cd782659f8b34d2418980910_10127_480x0_resize_box_3.png 480w ,https://blog.grantdavis.me/posts/260323-vcd-cpom/cover-vcd.png 500w" sizes="(min-width: 768px) 720px, 100vw" src=https://blog.grantdavis.me/posts/260323-vcd-cpom/cover-vcd.png alt="Centralized Point of Management (CPoM) in Cloud Director 10.4.1" width=500 height=189></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#enabling-the-cpom-feature>Enabling the CPoM Feature</a></li><li><a href=#add-dedicated-vcenter-as-cloud-resource>Add Dedicated vCenter as Cloud Resource</a><ul><li><a href=#vcenter-server>vCenter Server</a></li><li><a href=#nsx-v-manager>NSX-V Manager</a></li><li><a href=#access-configuration>Access Configuration</a></li><li><a href=#ready-to-complete>Ready to Complete</a></li></ul></li><li><a href=#publish-to-tenant>Publish to Tenant</a></li><li><a href=#proxy-configuration>Proxy Configuration</a></li><li><a href=#extra-configuration>Extra Configuration</a></li><li><a href=#tenant-portal>Tenant Portal</a><ul><li><a href=#tenant-portal-proxy-configuration>Tenant Portal Proxy Configuration</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><p><img loading=lazy src=diagram.png alt></p><hr><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><hr><p>Cloud Director Centralized Point of Management (CPoM) is a UI Plugin that empowers providers to provide customers dedicated vCenter instances. Cloud Director can also act as a proxy which allows providers to simplify tasks such as setting up VPNs and navigating complex NAT configurations. Cloud Director can also act as an API endpoint for all your vcenters, which could simplify automation.</p><p>This blog article will run through the installation and configuration of CPoM</p><p>This steps we are going to take here are:</p><hr><h2 id=enabling-the-cpom-feature>Enabling the CPoM Feature<a hidden class=anchor aria-hidden=true href=#enabling-the-cpom-feature>#</a></h2><hr><p>CPoM can be enabled in the Provider Portal under More &#187; Customize Portal, select &lsquo;CPOM extension&rsquo; and click Enable</p><p><img loading=lazy src=1-enable-CPOM.png alt="Figure 1: Enable the feture under customize portal"></p><p>The CPoM feature will also need to be publised to tenants, while the CPOM extension is still selected click Publish and choose your tenants</p><p><img loading=lazy src=1a-publishtenant.png alt="Figure 1a: Publish CPOM extension to Tenant"></p><hr><h2 id=add-dedicated-vcenter-as-cloud-resource>Add Dedicated vCenter as Cloud Resource<a hidden class=anchor aria-hidden=true href=#add-dedicated-vcenter-as-cloud-resource>#</a></h2><hr><p>Next is to add the vCenter server as a Cloud Resource. Click on Resources &#187; vCenter Server Instances &#187; Infrastructure Resources &#187; ADD.
<img loading=lazy src=2-addvcenter.png alt="Figure 2: Add vCenter as cloud resource"></p><hr><h3 id=vcenter-server>vCenter Server<a hidden class=anchor aria-hidden=true href=#vcenter-server>#</a></h3><hr><p>The Add vCenter Wizard opens and you will be prompted for the following:</p><p><strong>The below screen shot uses the administrator@ vsphere.local username to authenticate with the vCenter Server, I couldnt find any offical documentation on this but I tested an account with a Read Only Global Permission role and that also worked fine.</strong></p><p><img loading=lazy src=3-addvc-vcenterserver.png alt="Figure 3: Add vCenter as cloud resource wizard"></p><p>Once you filled that out Click Next. Youll get a prompt to retreive and trust the vCenter certificate</p><p><img loading=lazy src=4-certificatetrust.png alt="Figure 4: Accept Certificate"></p><hr><h3 id=nsx-v-manager>NSX-V Manager<a hidden class=anchor aria-hidden=true href=#nsx-v-manager>#</a></h3><hr><p>I am going to disable NSX-V Manager by clicking on the Configure Settings slider. NSX-V is being replaced by NSX-T.</p><p><img loading=lazy src=5-addvc-nsx.png alt="Figure 5: NSX Manager"></p><p>Click Next</p><hr><h3 id=access-configuration>Access Configuration<a hidden class=anchor aria-hidden=true href=#access-configuration>#</a></h3><hr><p>Now this is where you actually define this as a dedicated vCenter rather than a shared vCenter resource for orgVDCs. This is done by selecting Enable Tenant Access. We are also going to enable Generate Proxies so we can walk through that as well.</p><p><img loading=lazy src=6-addvc-access.png alt="Figure 6: Access Configuration"></p><p>Click Next</p><hr><h3 id=ready-to-complete>Ready to Complete<a hidden class=anchor aria-hidden=true href=#ready-to-complete>#</a></h3><hr><p>Ready to complete is an overview on what we have done so far, review your settings and then click Finish</p><p><img loading=lazy src=7-addvc-ready.png alt="Figure 7: Ready to Complete"></p><p>I did get prompted to trust the vCenter certificate again.
<img loading=lazy src=8-trustagain.png alt="Figure 8: Certificate Trust"></p><p>You should see the new vCenter now. In the screen shot below I have 2 vCenters with different usage fields, vcsa01 has a usage class of IaaS this is for my tradational orgVDC backed shared compute environment and the vCenter vcsa02 has a usage class of SDDC (Software Defined Data Center)</p><p><img loading=lazy src=9-sddcvcenter.png alt="Figure 9: New SDDC resource created."></p><hr><h2 id=publish-to-tenant>Publish to Tenant<a hidden class=anchor aria-hidden=true href=#publish-to-tenant>#</a></h2><hr><p>Now to publish this Dedicated Resource to a Tenant, select the SDDC vCenter and click Manage Tenants</p><p><img loading=lazy src=10-managetenants.png alt="Figure 10: Manage Tenants."></p><p>Select your Tenant and click Save</p><p><img loading=lazy src=11-selecttenants.png alt="Figure 11: Select Tenants."></p><hr><h2 id=proxy-configuration>Proxy Configuration<a hidden class=anchor aria-hidden=true href=#proxy-configuration>#</a></h2><hr><p>When we added the vCenter server, we enabled the Generate Proxies setting which created a proxy for us. This can be view by clicking on the vCenter server and then Proxies on the sidebar. Here you can also generate new proxies for NSX Managers, ESXi Hosts UI and SSO is there in case there is an external PSC.</p><p><img loading=lazy src=12-Proxies.png alt="Figure 12: View Proxies."></p><hr><h2 id=extra-configuration>Extra Configuration<a hidden class=anchor aria-hidden=true href=#extra-configuration>#</a></h2><hr><p>For Tenants to see this new dedicated vSphere instance you&rsquo;ll need to confirm the following, the first 2 have already been done in this exercise.</p><p><img loading=lazy src=13-sddcrole.png alt="Figure 13: Modify rights bundles and tenant roles to access the SDDC Resource"></p><hr><h2 id=tenant-portal>Tenant Portal<a hidden class=anchor aria-hidden=true href=#tenant-portal>#</a></h2><hr><p>Lets log into the Tenant Portal, browse to Data Centers &#187; Dedicated vSphere Data Centers.</p><p>And you should see the new SDDC ready to go!</p><p><img loading=lazy src=14-tenantsddc.png alt="Figure 14: Tenant Portal"></p><hr><h3 id=tenant-portal-proxy-configuration>Tenant Portal Proxy Configuration<a hidden class=anchor aria-hidden=true href=#tenant-portal-proxy-configuration>#</a></h3><hr><p>You may need to action a few steps to configure the proxy capabilities, either by downloading a chrome extension or updating your Windows OS Internet LAN Settings with a automatic configuration script. When you click Actions under your SDDC Instance and click Username and Password you will get the Proxy credentials needed.</p><p><img loading=lazy src=15-proxyconfig.png alt="Figure 15: Proxy Configuration"></p><p><img loading=lazy src=16-proxycreds.png alt="Figure 16: Proxy Credentials"></p><hr><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><hr><p>And there you have it! Customers can have all their dedicated resources in the one UI with a quick glance of capacity requirements and total number of VMs.</p><p><img loading=lazy src=17-final.png alt="Figure 17: Final UI in the Tenant Portal"></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.grantdavis.me/tags/vmware/>vmware</a></li><li><a href=https://blog.grantdavis.me/tags/vcd/>VCD</a></li><li><a href=https://blog.grantdavis.me/tags/cpom/>CPoM</a></li></ul><nav class=paginav><a class=prev href=https://blog.grantdavis.me/posts/110423-nsx-lab-part1/><span class=title>« Prev</span><br><span>Deploying NSX-T 3.2 in my HomeLab Environment</span></a>
<a class=next href=https://blog.grantdavis.me/posts/190323-vcd-branding/><span class=title>Next »</span><br><span>New Branding Experience in Cloud Director 10.4.1</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://blog.grantdavis.me/>Grant Davis</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>